plugins {
    id 'java'
    id 'maven-publish'
    id 'com.github.johnrengelman.shadow'
}

repositories {
    mavenCentral()
    maven { url 'https://hub.spigotmc.org/nexus/content/repositories/snapshots/' }
    maven { url 'https://oss.sonatype.org/content/repositories/snapshots' }
    maven { url 'https://repo.codemc.org/repository/maven-public/' }
    maven { url 'https://jitpack.io' }
    maven { url 'https://repo.papermc.io/repository/maven-public/' }
    maven { url 'https://hub.jeff-media.com/nexus/repository/jeff-media-public/' }
    maven { url 'https://nexus.iridiumdevelopment.net/repository/maven-releases/' }
    maven { url 'https://repo.extendedclip.com/content/repositories/placeholderapi/' } // PlaceholderAPI repo
    maven { url 'https://repo.essentialsx.net/releases/' } // New EssentialsX repo
}

dependencies {
    implementation 'com.iridium:IridiumCore:2.0.9'
    // implementation 'de.jeff_media:SpigotUpdateChecker:1.3.2' // Commented out due to not found

    // Explicitly add transitive dependencies of IridiumCore that are not being resolved
    compileOnly 'org.projectlombok:lombok:1.18.30' // Common recent version
    annotationProcessor 'org.projectlombok:lombok:1.18.30'
    implementation 'com.github.cryptomorin:XSeries:9.8.0' // Version from root/core build.gradle

    // ORMLite
    implementation 'com.j256.ormlite:ormlite-core:6.1' // Common recent version
    implementation 'com.j256.ormlite:ormlite-jdbc:6.1' // Common recent version

    // bStats
    implementation 'org.bstats:bstats-bukkit:3.0.2' // Common recent version

    // Apache Commons Lang (older version for org.apache.commons.lang)
    implementation 'commons-lang:commons-lang:2.6'

    // External Plugin APIs (compileOnly)
    compileOnly 'me.clip:placeholderapi:2.11.6' // Common version
    compileOnly('net.essentialsx:EssentialsX:2.20.1') { // Updated EssentialsX dependency
        exclude group: 'org.spigotmc', module: 'spigot-api' // Exclude transitive spigot-api
    }

    // Stacker APIs (compileOnly) - Will be commented out until actual versions/artifacts can be verified
    // compileOnly 'com.bgsoftware:WildStackerAPI:VERSION'
    // compileOnly 'dev.rosewood.rosestacker:RoseStacker-API:VERSION'
    // ObsidianStacker API not added due to uncertainty of its Maven artifact

    compileOnly project(':core:multiversion:common')
    compileOnly 'io.papermc:paperlib:1.0.8'
}